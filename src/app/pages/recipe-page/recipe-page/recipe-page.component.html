<div class="recipe">
  <div class="recipe-body-top">
    <div class="recipe-photo">
      <div class="recipe-photo-content">
        <!--      http://localhost:8080/pictures/[recipe.title]/[recipe.image]  -->
        <img src="{{url + '/' + recipe.dateOfCreation + '/' + recipe.image}}" alt="photo">
      </div>
    </div>
    <div class="recipe-info-with-ingredients">

      <div class="recipe-title">
        <div class="recipe-title-content">
          {{recipe.title}}
        </div>
      </div>

      <div class="recipe-author">
        <div class="recipe-author-link">
          <span>{{"Автор: "}}</span>

          <div *ngIf="user && user.id != recipe.author.id else toCabinet">
            <a [routerLink]="['/user', recipe.author.id]" [state]="{data: recipe}">{{recipe.author.username}}</a>
          </div>
          <ng-template #toCabinet>
            <a [routerLink]="['/cabinet/created-recipes']">{{recipe.author.username}}</a>
            <div class="link-to-update-recipe">
              <a [routerLink]="['/update-recipe', recipe.id]" [state]="{data: recipe}">Редагувати рецепт</a>
            </div>
          </ng-template>

        </div>
      </div>

      <div class="recipe-category">
        <div class="recipe-category-content">
          {{recipe.recipeCategoryDto.name}}
        </div>
      </div>

      <div class="recipe-ingredients">
        <!--        <div class="recipe-ingredients-title">-->
        <!--          Інгредієнти:-->
        <!--        </div>-->
        <div class="recipe-ingredients-titles">
          <div class="recipe-ingredients-titles-ingredient">
            Інгредієнт
          </div>
          <div class="recipe-ingredients-titles-weight">
            Вага
          </div>
          <!--          <div class="recipe-ingredients-titles-category">-->
          <!--            Категорія-->
          <!--          </div>-->
        </div>
        <div class="recipe-ingredient" *ngFor="let ingredient of recipe.ingredients">
          <div class="recipe-ingredient-name">
            <div class="recipe-ingredient-name-content">
              {{ingredient.name_ukr}}
            </div>
          </div>

          <!--    треба щоб при кліку відображалась -->

          <!--    <div class="recipe-ingredient-about">-->
          <!--      <div class="recipe-ingredient-about-title">-->
          <!--        Інформація про інгредієнт:-->
          <!--      </div>-->
          <!--      <div class="recipe-ingredient-about-content">-->
          <!--        {{ingredient.about}}-->
          <!--      </div>-->
          <!--    </div>-->

          <div class="recipe-ingredient-weight">
            <div class="recipe-ingredient-weight-content">
              {{ingredient.weight}}{{' г'}}
            </div>
          </div>

          <!--          <div class="recipe-ingredient-category">-->
          <!--            <div class="recipe-ingredient-category-content">-->
          <!--              {{ingredient.ingredientCategoryDto.name}}-->
          <!--            </div>-->
          <!--          </div>-->
        </div>
      </div>
    </div>
  </div>

  <div class="recipe-body-middle">
    <div class="recipe-description">
      <div class="recipe-description-content" *ngFor="let stage of stages">
        <div>{{'- ' + stage}}</div>
      </div>
    </div>
  </div>

  <div class="recipe-body-bottom">
    <div class="recipe-nutrients">
      <div class="recipe-nutrients-title">
        Нутрієнти:
      </div>

      <div class="recipe-nutrients-titles">
        <div class="recipe-nutrients-titles-no">
          №
        </div>
        <div class="recipe-nutrients-titles-nutrient">
          Нутрієнт
        </div>
        <div class="recipe-nutrients-titles-category">
          Категорія
        </div>
        <div class="recipe-nutrients-titles-quantity">
          Кількість в 100 грамах
        </div>
        <div *ngIf="user" class="recipe-nutrients-titles-norm">
          Ваша норма
        </div>
        <div *ngIf="user" class="recipe-nutrients-titles-percentage">
          Відсотків від Вашої денної норми
        </div>
      </div>

      <div class="recipe-user-proportions">

        <div>energy</div>
        <div class="recipe-user-proportion-energy" *ngFor="let energy of proportions.energy">
          <div class="recipe-user-proportions-id">{{energy.idOfNutrient}}</div>
          <div class="recipe-user-proportions-name">{{energy.nutrient}}</div>
          <div class="recipe-user-proportions-category">{{energy.category}}</div>
          <div class="recipe-user-proportions-recipe-quantity">{{energy.nutrientQuantity}}</div>
          <div *ngIf="user" class="recipe-user-proportions-norm">{{energy.userNorm}}</div>
          <div *ngIf="user" class="recipe-user-proportions-percentage">{{energy.percentage}}%</div>
        </div>

        <div>organics</div>
        <div class="recipe-user-proportion-organics" *ngFor="let organic of proportions.organics">
          <div class="recipe-user-proportions-id">{{organic.idOfNutrient}}</div>
          <div class="recipe-user-proportions-name">{{organic.nutrient}}</div>
          <div class="recipe-user-proportions-category">{{organic.category}}</div>
          <div class="recipe-user-proportions-recipe-quantity">{{organic.nutrientQuantity}}</div>
          <div *ngIf="user" class="recipe-user-proportions-norm">{{organic?.userNorm}}</div>
          <div *ngIf="organic.percentage" class="recipe-user-proportions-percentage">{{organic?.percentage}}%</div>
        </div>

        <div>vitamins</div>
        <div class="recipe-user-proportion-vitamins" *ngFor="let vitamin of proportions.vitamins">
          <div class="recipe-user-proportions-id">{{vitamin.idOfNutrient}}</div>
          <div class="recipe-user-proportions-name">{{vitamin.nutrient}}</div>
          <div class="recipe-user-proportions-category">{{vitamin.category}}</div>
          <div class="recipe-user-proportions-recipe-quantity">{{vitamin.nutrientQuantity}}</div>
          <div *ngIf="user" class="recipe-user-proportions-norm">{{vitamin?.userNorm}}</div>
          <div *ngIf="vitamin.percentage" class="recipe-user-proportions-percentage">{{vitamin?.percentage}}%</div>
        </div>

        <div>minerals</div>
        <div class="recipe-user-proportion-minerals" *ngFor="let mineral of proportions.minerals">
          <div class="recipe-user-proportions-id">{{mineral.idOfNutrient}}</div>
          <div class="recipe-user-proportions-name">{{mineral.nutrient}}</div>
          <div class="recipe-user-proportions-category">{{mineral.category}}</div>
          <div class="recipe-user-proportions-recipe-quantity">{{mineral.nutrientQuantity}}</div>
          <div *ngIf="user" class="recipe-user-proportions-norm">{{mineral?.userNorm}}</div>
          <div *ngIf="mineral.percentage" class="recipe-user-proportions-percentage">{{mineral?.percentage}}%</div>
        </div>
      </div>
    </div>
  </div>
</div>
